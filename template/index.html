<!doctype html>

<html>
    <head>
        <meta charset='utf-8'/>
        <script src='../lib-external/fpsmeter.js' type="application/javascript;version=1.7"></script>
        <script src='../lib-external/gl-matrix-min.js'></script>
        <script src='../lib/noc.js' type="application/javascript;version=1.7"></script>
        <script src='../lib/simulation.js' type="application/javascript;version=1.7"></script>
        <script src='../lib/render.js' type="application/javascript;version=1.7"></script>
        <script src='../lib/swarm.js' type="application/javascript;version=1.7"></script>
        <script src='../lib/mousetrack.js' type="application/javascript;version=1.7"></script>
        <script src='app.js' type="application/javascript;version=1.7"></script>

        <script>
         /*
            @licstart  The following is the entire license notice for the
            JavaScript code in this page.

            Copyright (C) 2015 Tom Jorquera

            The JavaScript code in this page is free software: you can
            redistribute it and/or modify it under the terms of the GNU
            General Public License (GNU GPL) as published by the Free Software
            Foundation, either version 3 of the License, or (at your option)
            any later version.  The code is distributed WITHOUT ANY WARRANTY;
            without even the implied warranty of MERCHANTABILITY or FITNESS
            FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

            As additional permission under GNU GPL version 3 section 7, you
            may distribute non-source (e.g., minimized or compacted) forms of
            that code without the copy of the GNU GPL normally required by
            section 4, provided you include this license notice and a URL
            through which recipients can access the Corresponding Source.


            @licend  The above is the entire license notice
            for the JavaScript code in this page.
          */
        </script>
    </head>
    <body>
        <canvas id='canvas'></canvas>
        <script type='application/javascript;version=1.7'>
         let meter = new FPSMeter();

         let renderer = render('canvas');
         let sim = simulation(renderer, 640, 360);
         let mouse = mousetrack('canvas');

         let app = application(sim, renderer, mouse);

         // infinite loop
         let drawingLoop = function() {
             meter.tickStart();
             sim.step(app.step);
             meter.tick();
             window.setTimeout(drawingLoop, 30);
         };
         drawingLoop();
        </script>
    </body>
</html>
